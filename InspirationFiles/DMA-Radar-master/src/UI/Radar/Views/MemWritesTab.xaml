<UserControl x:Class="LoneEftDmaRadar.UI.Radar.Views.MemWritesTab"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:vm="clr-namespace:LoneEftDmaRadar.UI.Radar.ViewModels"
             xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
             mc:Ignorable="d"
             Padding="10">
    <d:UserControl.DataContext>
        <d:DesignInstance Type="{x:Type vm:MemWritesViewModel}" IsDesignTimeCreatable="False" />
    </d:UserControl.DataContext>

    <UserControl.Resources>
        <SolidColorBrush x:Key="CardBackgroundBrush" Color="#11151F" />
        <SolidColorBrush x:Key="CardBorderBrush" Color="#1F2532" />
        <SolidColorBrush x:Key="AccentBrush" Color="#5DA8FF" />
        <SolidColorBrush x:Key="WarningBrush" Color="#F3B04D" />
        <SolidColorBrush x:Key="DangerBrush" Color="#EF596F" />
        <SolidColorBrush x:Key="ForegroundBrush" Color="#E6EDF3" />
        <SolidColorBrush x:Key="MutedBrush" Color="#9BA7B6" />

        <Style x:Key="FeatureRowBorder" TargetType="Border">
            <Setter Property="Background" Value="#151A26"/>
            <Setter Property="BorderBrush" Value="{StaticResource CardBorderBrush}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="6"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
        </Style>

        <Style TargetType="CheckBox">
            <Setter Property="Foreground" Value="{StaticResource ForegroundBrush}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
        </Style>

        <Style TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource MutedBrush}"/>
        </Style>
    </UserControl.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header / Master Control -->
        <Border Grid.Row="0" Margin="0,0,0,15" Background="{StaticResource CardBackgroundBrush}" BorderBrush="{StaticResource DangerBrush}" BorderThickness="1" CornerRadius="8" Padding="12">
            <DockPanel>
                <CheckBox DockPanel.Dock="Left" 
                          Content="Enable Memory Writes (Master Switch)" 
                          IsChecked="{Binding Enabled, Mode=TwoWay}"
                          FontSize="14" Foreground="{StaticResource ForegroundBrush}"/>
                
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <TextBlock Text="WARNING: High Detection Risk" Foreground="{StaticResource DangerBrush}" FontWeight="Bold" Margin="0,0,5,0"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel IsEnabled="{Binding Enabled}">
                
                <!-- Silent Aim -->
                <Border Style="{StaticResource FeatureRowBorder}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>
                        
                        <CheckBox Grid.Column="0" Content="Silent Aim" IsChecked="{Binding MemoryAimEnabled, Mode=TwoWay}" />
                        
                        <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                            <TextBlock Text="Bone:" VerticalAlignment="Center" Margin="0,0,10,0"/>
                            <ComboBox ItemsSource="{Binding AvailableBones}" 
                                      SelectedItem="{Binding MemoryAimTargetBone, Mode=TwoWay}"
                                      Width="120" />
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- No Recoil -->
                <Border Style="{StaticResource FeatureRowBorder}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <CheckBox Grid.Column="0" Content="No Recoil &amp; Sway" IsChecked="{Binding NoRecoilEnabled, Mode=TwoWay}" VerticalAlignment="Top" Margin="0,5,0,0"/>

                        <StackPanel Grid.Column="2" Orientation="Vertical">
                            <Grid Margin="0,0,0,5">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="120"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="{Binding NoRecoilAmount, StringFormat='Recoil: {0:F0}%'}" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,8,0"/>
                                <Slider Grid.Column="1" Value="{Binding NoRecoilAmount, Mode=TwoWay}" Minimum="0" Maximum="100" TickFrequency="5" IsSnapToTickEnabled="True"/>
                            </Grid>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="60"/>
                                    <ColumnDefinition Width="120"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Text="{Binding NoSwayAmount, StringFormat='Sway: {0:F0}%'}" FontSize="12" VerticalAlignment="Center" HorizontalAlignment="Right" Margin="0,0,8,0"/>
                                <Slider Grid.Column="1" Value="{Binding NoSwayAmount, Mode=TwoWay}" Minimum="0" Maximum="100" TickFrequency="5" IsSnapToTickEnabled="True"/>
                            </Grid>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- Infinite Stamina -->
                <Border Style="{StaticResource FeatureRowBorder}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <CheckBox Grid.Column="0" Content="Infinite Stamina" IsChecked="{Binding InfiniteStaminaEnabled, Mode=TwoWay}" />
                        
                        <!-- Placeholder for visual balance or future settings -->
                        <TextBlock Grid.Column="2" Text="Refills stamina &amp; bypasses fatigue" FontSize="11" FontStyle="Italic" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

                <!-- Anti AFK -->
                <Border Style="{StaticResource FeatureRowBorder}">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto" />
                            <ColumnDefinition Width="*" />
                            <ColumnDefinition Width="Auto" />
                        </Grid.ColumnDefinitions>

                        <CheckBox Grid.Column="0" Content="Anti-AFK" IsChecked="{Binding AntiAfkEnabled, Mode=TwoWay}" />

                        <!-- Description -->
                        <TextBlock Grid.Column="2" Text="Disable AFK Timer" FontSize="11" FontStyle="Italic" VerticalAlignment="Center"/>
                    </Grid>
                </Border>

            </StackPanel>
        </ScrollViewer>
    </Grid>
</UserControl>
